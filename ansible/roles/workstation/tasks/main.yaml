---
- name: clone dotfiles
  git:
    repo: https://github.com/dmend/dotfiles.git
    dest: /home/douglas/.dotfiles

- name: link dotfiles
  file:
    src: /home/douglas/.dotfiles/{{ item }}
    dest: /home/douglas/{{ item }}
    state: link
  loop:
    - .gitconfig
    - .gitignore
    - .tmux.conf
    - .vimrc

- name: install workstation packages
  become: yes
  package:
    name: '{{ item }}'
  loop:
    - tmux
    - vim

- name: add home directories
  file:
    dest: /home/douglas/{{ item }}
    state: directory
  loop:
    - Downloads
    - Workspaces

- name: clone pyenv
  git:
    repo: https://github.com/pyenv/pyenv.git
    dest: /home/douglas/.pyenv
